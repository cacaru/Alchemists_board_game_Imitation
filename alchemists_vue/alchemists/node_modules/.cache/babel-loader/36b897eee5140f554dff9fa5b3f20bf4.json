{"ast":null,"code":"import { socket } from '@/components/game_lobby.vue';\nimport { default as modal_area } from '@/components/modal_area.vue';\nimport { default as personal_game_data } from '@/components/personal_game_data.vue';\nexport default {\n  name: 'game_board',\n\n  created() {\n    // 게임 초기화 & 시작 트리거\n    socket.emit(\"created_data_announce\"); //최초 분배된 기본 재료 수령\n\n    socket.on(\"get_ingame_data\", data => {\n      this.user_data = data;\n\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].is_master === 'true') {\n          this.room_name = data[i].user_name + \"의 게임방\";\n          this.room_owner = data[i].user_name;\n        }\n\n        if (this.my_key == data[i].user_key) {\n          this.my_name = data[i].user_name;\n        }\n      }\n\n      let msg = {\n        speaker: this.my_name,\n        msg: \"방에 입장하였습니다.\",\n        type: 'announce'\n      };\n      socket.emit(\"chat\", msg);\n    }); //다른 채팅이 있는지 확인\n\n    socket.on(\"chat\", data => {\n      console.log(\"서버에서 받아온 데이터\");\n      console.log(data);\n      console.log(\"받아오기 끝\");\n\n      switch (data.type) {\n        case \"announce\":\n          this.textarea += data.speaker + \" 이(가) \" + data.msg + \"\\n\";\n          break;\n\n        case \"normal\":\n          this.textarea += data.speaker + \" : \" + data.msg + \"\\n\";\n          break;\n      } //console.log(\"chat :: \");\n      //console.log(data);\n\n    });\n    socket.on(\"draw_ingredient_card_result\", data => {\n      this.user_data = data;\n      console.log(this.user_data);\n    });\n  },\n\n  components: {\n    modal_component: modal_area,\n    personal_game_data: personal_game_data\n  },\n\n  data() {\n    return {\n      user_data: '',\n      my_key: socket.id,\n      my_name: '',\n      room_name: '',\n      room_owner: '',\n      total_dicount_adventruer: 4,\n      textarea: '',\n      message: '',\n      ingredient_card_selected: {\n        card_1: {\n          num: '',\n          is_select: false\n        },\n        card_2: {\n          num: '',\n          is_select: false\n        },\n        card_3: {\n          num: '',\n          is_select: false\n        },\n        card_4: {\n          num: '',\n          is_select: false\n        },\n        card_5: {\n          num: '',\n          is_select: false\n        }\n      }\n    };\n  },\n\n  methods: {\n    use_chat: function () {\n      if (this.message !== '') {\n        let msg = {\n          speaker: this.my_name,\n          msg: this.message,\n          type: \"normal\"\n        };\n        console.log(\"서버에 보낼 데이터\");\n        console.log(msg);\n        console.log(\"보낼준비 끝\");\n        this.message = '';\n        socket.emit(\"chat\", msg);\n      }\n    },\n    draw_ingredient_card: function (cnt) {\n      let data = {\n        cnt: cnt,\n        my_key: this.my_key\n      };\n      socket.emit(\"draw_ingredient_card\", data);\n    },\n    round_ready: function () {\n      console.log(\"ready\");\n    }\n  }\n};","map":{"version":3,"names":["socket","default","modal_area","personal_game_data","name","created","emit","on","data","user_data","i","length","is_master","room_name","user_name","room_owner","my_key","user_key","my_name","msg","speaker","type","console","log","textarea","components","modal_component","id","total_dicount_adventruer","message","ingredient_card_selected","card_1","num","is_select","card_2","card_3","card_4","card_5","methods","use_chat","draw_ingredient_card","cnt","round_ready"],"sources":["E:/GitHub/personal_tranning/alchemists_vue/alchemists/src/assets/script/game_board.js"],"sourcesContent":["import { socket } from '@/components/game_lobby.vue'\r\nimport { default as modal_area } from '@/components/modal_area.vue'\r\nimport { default as personal_game_data } from '@/components/personal_game_data.vue' \r\n\r\nexport default {\r\n    name : 'game_board',\r\n    created() {\r\n        // 게임 초기화 & 시작 트리거\r\n        socket.emit(\"created_data_announce\");\r\n\r\n        //최초 분배된 기본 재료 수령\r\n        socket.on(\"get_ingame_data\", (data) => {\r\n            this.user_data = data;\r\n            for(let i = 0; i < data.length; i++){\r\n                if( data[i].is_master === 'true' ) {\r\n                    this.room_name = data[i].user_name + \"의 게임방\";\r\n                    this.room_owner = data[i].user_name;\r\n                }\r\n                if( this.my_key == data[i].user_key ){\r\n                    this.my_name = data[i].user_name;\r\n                }\r\n            }\r\n\r\n            let msg = {\r\n                speaker : this.my_name,\r\n                msg     : \"방에 입장하였습니다.\",\r\n                type    : 'announce',\r\n            }\r\n            socket.emit(\"chat\", msg);\r\n        });\r\n\r\n        //다른 채팅이 있는지 확인\r\n        socket.on(\"chat\", (data) => {\r\n            console.log(\"서버에서 받아온 데이터\");\r\n            console.log(data);\r\n            console.log(\"받아오기 끝\");\r\n            switch ( data.type ) {\r\n                case \"announce\" :\r\n                    this.textarea += data.speaker + \" 이(가) \" + data.msg + \"\\n\";\r\n                    break;\r\n                case \"normal\" :\r\n                    this.textarea += data.speaker + \" : \" + data.msg + \"\\n\";\r\n                    break;\r\n            }\r\n            //console.log(\"chat :: \");\r\n            //console.log(data);\r\n        });\r\n\r\n        socket.on(\"draw_ingredient_card_result\", (data) => {\r\n            this.user_data = data;\r\n            console.log(this.user_data);\r\n        });\r\n\r\n    },\r\n    components : {\r\n        modal_component : modal_area,\r\n        personal_game_data : personal_game_data,\r\n    },\r\n    data() {\r\n        return  {\r\n            user_data : '', \r\n            my_key : socket.id,\r\n            my_name : '',\r\n            room_name : '',\r\n            room_owner : '',\r\n            total_dicount_adventruer : 4,\r\n            textarea : '',\r\n            message : '',\r\n            ingredient_card_selected : {\r\n                card_1 : {\r\n                    num : '',\r\n                    is_select : false,\r\n                },\r\n                card_2 : {\r\n                    num : '',\r\n                    is_select : false,\r\n                },\r\n                card_3 : {\r\n                    num : '',\r\n                    is_select : false,\r\n                },\r\n                card_4 : {\r\n                    num : '',\r\n                    is_select : false,\r\n                },\r\n                card_5 : {\r\n                    num : '',\r\n                    is_select : false,\r\n                },\r\n            }\r\n        }\r\n    },\r\n\r\n    methods : {\r\n        use_chat : function(){\r\n            if( this.message !== '' ){\r\n              let msg = {\r\n                speaker : this.my_name,\r\n                msg : this.message,\r\n                type : \"normal\"\r\n              }\r\n              console.log(\"서버에 보낼 데이터\");\r\n              console.log(msg);\r\n              console.log(\"보낼준비 끝\");\r\n              this.message = '';\r\n              socket.emit(\"chat\", msg);\r\n            }\r\n        },\r\n\r\n        draw_ingredient_card : function(cnt) {\r\n            let data = {\r\n                cnt : cnt,\r\n                my_key : this.my_key,\r\n            }\r\n            socket.emit(\"draw_ingredient_card\", data);\r\n        },\r\n\r\n        round_ready : function() {\r\n            console.log(\"ready\");\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAT,QAAuB,6BAAvB;AACA,SAASC,OAAO,IAAIC,UAApB,QAAsC,6BAAtC;AACA,SAASD,OAAO,IAAIE,kBAApB,QAA8C,qCAA9C;AAEA,eAAe;EACXC,IAAI,EAAG,YADI;;EAEXC,OAAO,GAAG;IACN;IACAL,MAAM,CAACM,IAAP,CAAY,uBAAZ,EAFM,CAIN;;IACAN,MAAM,CAACO,EAAP,CAAU,iBAAV,EAA8BC,IAAD,IAAU;MACnC,KAAKC,SAAL,GAAiBD,IAAjB;;MACA,KAAI,IAAIE,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,IAAI,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;QAChC,IAAIF,IAAI,CAACE,CAAD,CAAJ,CAAQE,SAAR,KAAsB,MAA1B,EAAmC;UAC/B,KAAKC,SAAL,GAAiBL,IAAI,CAACE,CAAD,CAAJ,CAAQI,SAAR,GAAoB,OAArC;UACA,KAAKC,UAAL,GAAkBP,IAAI,CAACE,CAAD,CAAJ,CAAQI,SAA1B;QACH;;QACD,IAAI,KAAKE,MAAL,IAAeR,IAAI,CAACE,CAAD,CAAJ,CAAQO,QAA3B,EAAqC;UACjC,KAAKC,OAAL,GAAeV,IAAI,CAACE,CAAD,CAAJ,CAAQI,SAAvB;QACH;MACJ;;MAED,IAAIK,GAAG,GAAG;QACNC,OAAO,EAAG,KAAKF,OADT;QAENC,GAAG,EAAO,aAFJ;QAGNE,IAAI,EAAM;MAHJ,CAAV;MAKArB,MAAM,CAACM,IAAP,CAAY,MAAZ,EAAoBa,GAApB;IACH,CAlBD,EALM,CAyBN;;IACAnB,MAAM,CAACO,EAAP,CAAU,MAAV,EAAmBC,IAAD,IAAU;MACxBc,OAAO,CAACC,GAAR,CAAY,cAAZ;MACAD,OAAO,CAACC,GAAR,CAAYf,IAAZ;MACAc,OAAO,CAACC,GAAR,CAAY,QAAZ;;MACA,QAASf,IAAI,CAACa,IAAd;QACI,KAAK,UAAL;UACI,KAAKG,QAAL,IAAiBhB,IAAI,CAACY,OAAL,GAAe,QAAf,GAA0BZ,IAAI,CAACW,GAA/B,GAAqC,IAAtD;UACA;;QACJ,KAAK,QAAL;UACI,KAAKK,QAAL,IAAiBhB,IAAI,CAACY,OAAL,GAAe,KAAf,GAAuBZ,IAAI,CAACW,GAA5B,GAAkC,IAAnD;UACA;MANR,CAJwB,CAYxB;MACA;;IACH,CAdD;IAgBAnB,MAAM,CAACO,EAAP,CAAU,6BAAV,EAA0CC,IAAD,IAAU;MAC/C,KAAKC,SAAL,GAAiBD,IAAjB;MACAc,OAAO,CAACC,GAAR,CAAY,KAAKd,SAAjB;IACH,CAHD;EAKH,CAjDU;;EAkDXgB,UAAU,EAAG;IACTC,eAAe,EAAGxB,UADT;IAETC,kBAAkB,EAAGA;EAFZ,CAlDF;;EAsDXK,IAAI,GAAG;IACH,OAAQ;MACJC,SAAS,EAAG,EADR;MAEJO,MAAM,EAAGhB,MAAM,CAAC2B,EAFZ;MAGJT,OAAO,EAAG,EAHN;MAIJL,SAAS,EAAG,EAJR;MAKJE,UAAU,EAAG,EALT;MAMJa,wBAAwB,EAAG,CANvB;MAOJJ,QAAQ,EAAG,EAPP;MAQJK,OAAO,EAAG,EARN;MASJC,wBAAwB,EAAG;QACvBC,MAAM,EAAG;UACLC,GAAG,EAAG,EADD;UAELC,SAAS,EAAG;QAFP,CADc;QAKvBC,MAAM,EAAG;UACLF,GAAG,EAAG,EADD;UAELC,SAAS,EAAG;QAFP,CALc;QASvBE,MAAM,EAAG;UACLH,GAAG,EAAG,EADD;UAELC,SAAS,EAAG;QAFP,CATc;QAavBG,MAAM,EAAG;UACLJ,GAAG,EAAG,EADD;UAELC,SAAS,EAAG;QAFP,CAbc;QAiBvBI,MAAM,EAAG;UACLL,GAAG,EAAG,EADD;UAELC,SAAS,EAAG;QAFP;MAjBc;IATvB,CAAR;EAgCH,CAvFU;;EAyFXK,OAAO,EAAG;IACNC,QAAQ,EAAG,YAAU;MACjB,IAAI,KAAKV,OAAL,KAAiB,EAArB,EAAyB;QACvB,IAAIV,GAAG,GAAG;UACRC,OAAO,EAAG,KAAKF,OADP;UAERC,GAAG,EAAG,KAAKU,OAFH;UAGRR,IAAI,EAAG;QAHC,CAAV;QAKAC,OAAO,CAACC,GAAR,CAAY,YAAZ;QACAD,OAAO,CAACC,GAAR,CAAYJ,GAAZ;QACAG,OAAO,CAACC,GAAR,CAAY,QAAZ;QACA,KAAKM,OAAL,GAAe,EAAf;QACA7B,MAAM,CAACM,IAAP,CAAY,MAAZ,EAAoBa,GAApB;MACD;IACJ,CAdK;IAgBNqB,oBAAoB,EAAG,UAASC,GAAT,EAAc;MACjC,IAAIjC,IAAI,GAAG;QACPiC,GAAG,EAAGA,GADC;QAEPzB,MAAM,EAAG,KAAKA;MAFP,CAAX;MAIAhB,MAAM,CAACM,IAAP,CAAY,sBAAZ,EAAoCE,IAApC;IACH,CAtBK;IAwBNkC,WAAW,EAAG,YAAW;MACrBpB,OAAO,CAACC,GAAR,CAAY,OAAZ;IACH;EA1BK;AAzFC,CAAf"},"metadata":{},"sourceType":"module"}