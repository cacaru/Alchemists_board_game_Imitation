{"ast":null,"code":"'use strict';\n\nconst {\n  ERR_HTTP2_NO_SOCKET_MANIPULATION\n} = require('./errors.js');\n/* istanbul ignore file */\n\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\n\nconst proxySocketHandler = {\n  has(stream, property) {\n    // Replaced [kSocket] with .socket\n    const reference = stream.session === undefined ? stream : stream.session.socket;\n    return property in stream || property in reference;\n  },\n\n  get(stream, property) {\n    switch (property) {\n      case 'on':\n      case 'once':\n      case 'end':\n      case 'emit':\n      case 'destroy':\n        return stream[property].bind(stream);\n\n      case 'writable':\n      case 'destroyed':\n        return stream[property];\n\n      case 'readable':\n        if (stream.destroyed) {\n          return false;\n        }\n\n        return stream.readable;\n\n      case 'setTimeout':\n        {\n          const {\n            session\n          } = stream;\n\n          if (session !== undefined) {\n            return session.setTimeout.bind(session);\n          }\n\n          return stream.setTimeout.bind(stream);\n        }\n\n      case 'write':\n      case 'read':\n      case 'pause':\n      case 'resume':\n        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\n      default:\n        {\n          // Replaced [kSocket] with .socket\n          const reference = stream.session === undefined ? stream : stream.session.socket;\n          const value = reference[property];\n          return typeof value === 'function' ? value.bind(reference) : value;\n        }\n    }\n  },\n\n  getPrototypeOf(stream) {\n    if (stream.session !== undefined) {\n      // Replaced [kSocket] with .socket\n      return Reflect.getPrototypeOf(stream.session.socket);\n    }\n\n    return Reflect.getPrototypeOf(stream);\n  },\n\n  set(stream, property, value) {\n    switch (property) {\n      case 'writable':\n      case 'readable':\n      case 'destroyed':\n      case 'on':\n      case 'once':\n      case 'end':\n      case 'emit':\n      case 'destroy':\n        stream[property] = value;\n        return true;\n\n      case 'setTimeout':\n        {\n          const {\n            session\n          } = stream;\n\n          if (session === undefined) {\n            stream.setTimeout = value;\n          } else {\n            session.setTimeout = value;\n          }\n\n          return true;\n        }\n\n      case 'write':\n      case 'read':\n      case 'pause':\n      case 'resume':\n        throw new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\n      default:\n        {\n          // Replaced [kSocket] with .socket\n          const reference = stream.session === undefined ? stream : stream.session.socket;\n          reference[property] = value;\n          return true;\n        }\n    }\n  }\n\n};\nmodule.exports = proxySocketHandler;","map":{"version":3,"names":["ERR_HTTP2_NO_SOCKET_MANIPULATION","require","proxySocketHandler","has","stream","property","reference","session","undefined","socket","get","bind","destroyed","readable","setTimeout","value","getPrototypeOf","Reflect","set","module","exports"],"sources":["E:/web/alchemists_vue/alchemists/node_modules/http2-wrapper/source/utils/proxy-socket-handler.js"],"sourcesContent":["'use strict';\nconst {ERR_HTTP2_NO_SOCKET_MANIPULATION} = require('./errors.js');\n\n/* istanbul ignore file */\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\nconst proxySocketHandler = {\n\thas(stream, property) {\n\t\t// Replaced [kSocket] with .socket\n\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\treturn (property in stream) || (property in reference);\n\t},\n\n\tget(stream, property) {\n\t\tswitch (property) {\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\treturn stream[property].bind(stream);\n\t\t\tcase 'writable':\n\t\t\tcase 'destroyed':\n\t\t\t\treturn stream[property];\n\t\t\tcase 'readable':\n\t\t\t\tif (stream.destroyed) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn stream.readable;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session !== undefined) {\n\t\t\t\t\treturn session.setTimeout.bind(session);\n\t\t\t\t}\n\n\t\t\t\treturn stream.setTimeout.bind(stream);\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\tconst value = reference[property];\n\n\t\t\t\treturn typeof value === 'function' ? value.bind(reference) : value;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPrototypeOf(stream) {\n\t\tif (stream.session !== undefined) {\n\t\t\t// Replaced [kSocket] with .socket\n\t\t\treturn Reflect.getPrototypeOf(stream.session.socket);\n\t\t}\n\n\t\treturn Reflect.getPrototypeOf(stream);\n\t},\n\n\tset(stream, property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'writable':\n\t\t\tcase 'readable':\n\t\t\tcase 'destroyed':\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\tstream[property] = value;\n\t\t\t\treturn true;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session === undefined) {\n\t\t\t\t\tstream.setTimeout = value;\n\t\t\t\t} else {\n\t\t\t\t\tsession.setTimeout = value;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\treference[property] = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nmodule.exports = proxySocketHandler;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}