{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nconst EventEmitter = require('events');\n\nconst JSONB = require('json-buffer');\n\nconst compressBrotli = require('compress-brotli');\n\nconst loadStore = options => {\n  const adapters = {\n    redis: '@keyv/redis',\n    mongodb: '@keyv/mongo',\n    mongo: '@keyv/mongo',\n    sqlite: '@keyv/sqlite',\n    postgresql: '@keyv/postgres',\n    postgres: '@keyv/postgres',\n    mysql: '@keyv/mysql',\n    etcd: '@keyv/etcd'\n  };\n\n  if (options.adapter || options.uri) {\n    const adapter = options.adapter || /^[^:]*/.exec(options.uri)[0];\n    return new (require(adapters[adapter]))(options);\n  }\n\n  return new Map();\n};\n\nconst iterableAdapters = ['sqlite', 'postgres', 'mysql', 'mongo', 'redis'];\n\nclass Keyv extends EventEmitter {\n  constructor(uri, options) {\n    super();\n    this.opts = {\n      namespace: 'keyv',\n      serialize: JSONB.stringify,\n      deserialize: JSONB.parse,\n      ...(typeof uri === 'string' ? {\n        uri\n      } : uri),\n      ...options\n    };\n\n    if (!this.opts.store) {\n      const adapterOptions = { ...this.opts\n      };\n      this.opts.store = loadStore(adapterOptions);\n    }\n\n    if (this.opts.compress) {\n      const brotli = compressBrotli(this.opts.compress.opts);\n\n      this.opts.serialize = async ({\n        value,\n        expires\n      }) => brotli.serialize({\n        value: await brotli.compress(value),\n        expires\n      });\n\n      this.opts.deserialize = async data => {\n        const {\n          value,\n          expires\n        } = brotli.deserialize(data);\n        return {\n          value: await brotli.decompress(value),\n          expires\n        };\n      };\n    }\n\n    if (typeof this.opts.store.on === 'function') {\n      this.opts.store.on('error', error => this.emit('error', error));\n    }\n\n    this.opts.store.namespace = this.opts.namespace;\n\n    const generateIterator = iterator => async function* () {\n      for await (const [key, raw] of typeof iterator === 'function' ? iterator(this.opts.store.namespace) : iterator) {\n        const data = typeof raw === 'string' ? this.opts.deserialize(raw) : raw;\n\n        if (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n          continue;\n        }\n\n        if (typeof data.expires === 'number' && Date.now() > data.expires) {\n          this.delete(key);\n          continue;\n        }\n\n        yield [this._getKeyUnprefix(key), data.value];\n      }\n    }; // Attach iterators\n\n\n    if (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n      this.iterator = generateIterator(this.opts.store);\n    } else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts && this._checkIterableAdaptar()) {\n      this.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n    }\n  }\n\n  _checkIterableAdaptar() {\n    return iterableAdapters.includes(this.opts.store.opts.dialect) || iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n  }\n\n  _getKeyPrefix(key) {\n    return `${this.opts.namespace}:${key}`;\n  }\n\n  _getKeyPrefixArray(keys) {\n    return keys.map(key => `${this.opts.namespace}:${key}`);\n  }\n\n  _getKeyUnprefix(key) {\n    return this.opts.store.namespace ? key.split(':').splice(1).join(':') : key;\n  }\n\n  get(key, options) {\n    const {\n      store\n    } = this.opts;\n    const isArray = Array.isArray(key);\n    const keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\n    if (isArray && store.getMany === undefined) {\n      const promises = [];\n\n      for (const key of keyPrefixed) {\n        promises.push(Promise.resolve().then(() => store.get(key)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : data).then(data => {\n          if (data === undefined || data === null) {\n            return undefined;\n          }\n\n          if (typeof data.expires === 'number' && Date.now() > data.expires) {\n            return this.delete(key).then(() => undefined);\n          }\n\n          return options && options.raw ? data : data.value;\n        }));\n      }\n\n      return Promise.allSettled(promises).then(values => {\n        const data = [];\n\n        for (const value of values) {\n          data.push(value.value);\n        }\n\n        return data.every(x => x === undefined) ? [] : data;\n      });\n    }\n\n    return Promise.resolve().then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed)).then(data => typeof data === 'string' ? this.opts.deserialize(data) : data).then(data => {\n      // Console.log('get', data);\n      if (data === undefined || data === null) {\n        return undefined;\n      }\n\n      if (isArray) {\n        const result = [];\n\n        if (data.length === 0) {\n          return [];\n        }\n\n        for (let row of data) {\n          if (typeof row === 'string') {\n            row = this.opts.deserialize(row);\n          }\n\n          if (row === undefined || row === null) {\n            result.push(undefined);\n            continue;\n          }\n\n          if (typeof row.expires === 'number' && Date.now() > row.expires) {\n            this.delete(key).then(() => undefined);\n            result.push(undefined);\n          } else {\n            result.push(options && options.raw ? row : row.value);\n          }\n        }\n\n        return result.every(x => x === undefined) ? [] : result;\n      }\n\n      if (typeof data.expires === 'number' && Date.now() > data.expires) {\n        return this.delete(key).then(() => undefined);\n      }\n\n      return options && options.raw ? data : data.value;\n    });\n  }\n\n  set(key, value, ttl) {\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    if (typeof ttl === 'undefined') {\n      ttl = this.opts.ttl;\n    }\n\n    if (ttl === 0) {\n      ttl = undefined;\n    }\n\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => {\n      const expires = typeof ttl === 'number' ? Date.now() + ttl : null;\n\n      if (typeof value === 'symbol') {\n        this.emit('error', 'symbol cannot be serialized');\n      }\n\n      value = {\n        value,\n        expires\n      };\n      return this.opts.serialize(value);\n    }).then(value => store.set(keyPrefixed, value, ttl)).then(() => true);\n  }\n\n  delete(key) {\n    const {\n      store\n    } = this.opts;\n\n    if (Array.isArray(key)) {\n      const keyPrefixed = this._getKeyPrefixArray(key);\n\n      if (store.deleteMany === undefined) {\n        const promises = [];\n\n        for (const key of keyPrefixed) {\n          promises.push(store.delete(key));\n        }\n\n        return Promise.allSettled(promises).then(values => values.every(x => x.value === true));\n      }\n\n      return Promise.resolve().then(() => store.deleteMany(keyPrefixed));\n    }\n\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    return Promise.resolve().then(() => store.delete(keyPrefixed));\n  }\n\n  clear() {\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(() => store.clear());\n  }\n\n  has(key) {\n    const keyPrefixed = this._getKeyPrefix(key);\n\n    const {\n      store\n    } = this.opts;\n    return Promise.resolve().then(async () => {\n      if (typeof store.has === 'function') {\n        return store.has(keyPrefixed);\n      }\n\n      const value = await store.get(keyPrefixed);\n      return value !== undefined;\n    });\n  }\n\n}\n\nmodule.exports = Keyv;","map":{"version":3,"names":["EventEmitter","require","JSONB","compressBrotli","loadStore","options","adapters","redis","mongodb","mongo","sqlite","postgresql","postgres","mysql","etcd","adapter","uri","exec","Map","iterableAdapters","Keyv","constructor","opts","namespace","serialize","stringify","deserialize","parse","store","adapterOptions","compress","brotli","value","expires","data","decompress","on","error","emit","generateIterator","iterator","key","raw","includes","Date","now","delete","_getKeyUnprefix","Symbol","_checkIterableAdaptar","bind","dialect","findIndex","element","url","_getKeyPrefix","_getKeyPrefixArray","keys","map","split","splice","join","get","isArray","Array","keyPrefixed","getMany","undefined","promises","push","Promise","resolve","then","allSettled","values","every","x","result","length","row","set","ttl","deleteMany","clear","has","module","exports"],"sources":["E:/web/alchemists_vue/alchemists/node_modules/keyv/src/index.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\nconst compressBrotli = require('compress-brotli');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, options) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compress) {\n\t\t\tconst brotli = compressBrotli(this.opts.compress.opts);\n\t\t\tthis.opts.serialize = async ({value, expires}) => brotli.serialize({value: await brotli.compress(value), expires});\n\t\t\tthis.opts.deserialize = async data => {\n\t\t\t\tconst {value, expires} = brotli.deserialize(data);\n\t\t\t\treturn {value: await brotli.decompress(value), expires};\n\t\t\t};\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function') {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator =>\n\t\t\tasync function * () {\n\t\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t\t: iterator) {\n\t\t\t\t\tconst data = typeof raw === 'string' ? this.opts.deserialize(raw) : raw;\n\t\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\tthis.delete(key);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn this.opts.store.namespace\n\t\t\t? key\n\t\t\t\t.split(':')\n\t\t\t\t.splice(1)\n\t\t\t\t.join(':')\n\t\t\t: key;\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : data)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data.every(x => x === undefined) ? [] : data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : data)\n\t\t\t.then(data => {\n\t\t\t\t// Console.log('get', data);\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\tconst result = [];\n\t\t\t\t\tif (data.length === 0) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let row of data) {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key).then(() => undefined);\n\t\t\t\t\t\t\tresult.push(undefined);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.push((options && options.raw) ? row : row.value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result.every(x => x === undefined) ? [] : result;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n}\n\nmodule.exports = Keyv;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}