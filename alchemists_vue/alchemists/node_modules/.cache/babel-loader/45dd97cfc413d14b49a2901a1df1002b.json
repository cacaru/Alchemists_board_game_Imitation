{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nexport default function parseLinkHeader(link) {\n  const parsed = [];\n  const items = link.split(',');\n\n  for (const item of items) {\n    // https://tools.ietf.org/html/rfc5988#section-5\n    const [rawUriReference, ...rawLinkParameters] = item.split(';');\n    const trimmedUriReference = rawUriReference.trim(); // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n\n    if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n      throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n    }\n\n    const reference = trimmedUriReference.slice(1, -1);\n    const parameters = {};\n\n    if (rawLinkParameters.length === 0) {\n      throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n    }\n\n    for (const rawParameter of rawLinkParameters) {\n      const trimmedRawParameter = rawParameter.trim();\n      const center = trimmedRawParameter.indexOf('=');\n\n      if (center === -1) {\n        throw new Error(`Failed to parse Link header: ${link}`);\n      }\n\n      const name = trimmedRawParameter.slice(0, center).trim();\n      const value = trimmedRawParameter.slice(center + 1).trim();\n      parameters[name] = value;\n    }\n\n    parsed.push({\n      reference,\n      parameters\n    });\n  }\n\n  return parsed;\n}","map":{"version":3,"names":["parseLinkHeader","link","parsed","items","split","item","rawUriReference","rawLinkParameters","trimmedUriReference","trim","length","Error","reference","slice","parameters","join","rawParameter","trimmedRawParameter","center","indexOf","name","value","push"],"sources":["E:/web/alchemists_vue/alchemists/node_modules/got/dist/source/core/parse-link-header.js"],"sourcesContent":["export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n"],"mappings":";AAAA,eAAe,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;EAC1C,MAAMC,MAAM,GAAG,EAAf;EACA,MAAMC,KAAK,GAAGF,IAAI,CAACG,KAAL,CAAW,GAAX,CAAd;;EACA,KAAK,MAAMC,IAAX,IAAmBF,KAAnB,EAA0B;IACtB;IACA,MAAM,CAACG,eAAD,EAAkB,GAAGC,iBAArB,IAA0CF,IAAI,CAACD,KAAL,CAAW,GAAX,CAAhD;IACA,MAAMI,mBAAmB,GAAGF,eAAe,CAACG,IAAhB,EAA5B,CAHsB,CAItB;;IACA,IAAID,mBAAmB,CAAC,CAAD,CAAnB,KAA2B,GAA3B,IAAkCA,mBAAmB,CAACA,mBAAmB,CAACE,MAApB,GAA6B,CAA9B,CAAnB,KAAwD,GAA9F,EAAmG;MAC/F,MAAM,IAAIC,KAAJ,CAAW,gDAA+CH,mBAAoB,EAA9E,CAAN;IACH;;IACD,MAAMI,SAAS,GAAGJ,mBAAmB,CAACK,KAApB,CAA0B,CAA1B,EAA6B,CAAC,CAA9B,CAAlB;IACA,MAAMC,UAAU,GAAG,EAAnB;;IACA,IAAIP,iBAAiB,CAACG,MAAlB,KAA6B,CAAjC,EAAoC;MAChC,MAAM,IAAIC,KAAJ,CAAW,6CAA4CJ,iBAAiB,CAACQ,IAAlB,CAAuB,GAAvB,CAA4B,EAAnF,CAAN;IACH;;IACD,KAAK,MAAMC,YAAX,IAA2BT,iBAA3B,EAA8C;MAC1C,MAAMU,mBAAmB,GAAGD,YAAY,CAACP,IAAb,EAA5B;MACA,MAAMS,MAAM,GAAGD,mBAAmB,CAACE,OAApB,CAA4B,GAA5B,CAAf;;MACA,IAAID,MAAM,KAAK,CAAC,CAAhB,EAAmB;QACf,MAAM,IAAIP,KAAJ,CAAW,gCAA+BV,IAAK,EAA/C,CAAN;MACH;;MACD,MAAMmB,IAAI,GAAGH,mBAAmB,CAACJ,KAApB,CAA0B,CAA1B,EAA6BK,MAA7B,EAAqCT,IAArC,EAAb;MACA,MAAMY,KAAK,GAAGJ,mBAAmB,CAACJ,KAApB,CAA0BK,MAAM,GAAG,CAAnC,EAAsCT,IAAtC,EAAd;MACAK,UAAU,CAACM,IAAD,CAAV,GAAmBC,KAAnB;IACH;;IACDnB,MAAM,CAACoB,IAAP,CAAY;MACRV,SADQ;MAERE;IAFQ,CAAZ;EAIH;;EACD,OAAOZ,MAAP;AACH"},"metadata":{},"sourceType":"module"}